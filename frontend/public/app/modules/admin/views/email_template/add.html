<div class="animated fadeIn">

    <!-- <h1 class="page-title">{{vm.pageHeading}} Email Template</h1> -->

    <div class="card">
        <div class="card-header"> <h4>{{vm.pageHeading}} Email Template</h4></div>
        <div class="card-body">
          <form autocomplete="off" ng-submit="vm.id ? vm.update() : vm.add()" name="vm.form" enctype="multipart/form-data" novalidate>
            <div class="form-group">
              <label>Template Name<sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" name="template_name" required  ng-model="vm.template_name" aria-describedby="emailHelp" pattern="^[ a-zA-Z]*$" placeholder="Enter Template Name">
              <p class="error-msg" ng-if="vm.form.template_name.$error.required && vm.form.$submitted">Please enter template name</p>
              <p class="error-msg" ng-if="vm.form.template_name.$error.pattern && vm.form.$submitted">Please enter valid template name</p>
            </div>
            <div class="form-group">
              <label>Template Code <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" name="template_code" required  ng-model="vm.template_code" aria-describedby="emailHelp"  pattern="^[ A-Z a-z0-9-_]*$" placeholder="Enter Template Code" ng-disabled="vm.id" >
          
              <p class="error-msg" ng-if="vm.form.template_code.$error.required && vm.form.$submitted">Please enter template code</p>
              <p class="error-msg" ng-if="vm.form.template_code.$error.pattern && vm.form.$submitted">Please enter valid template code</p>
            </div>
            <div class="form-group">
              <label>Subject <sup class="text-danger">*</sup></label>
              <input type="text" class="form-control" name="template_subject" required  ng-model="vm.template_subject" aria-describedby="emailHelp" placeholder="Enter Subject" pattern="^[A-Z a-z]*$">
              <p class="error-msg" ng-if="vm.form.template_subject.$error.required && vm.form.$submitted">Please enter subject</p>
              <p class="error-msg" ng-if="vm.form.template_subject.$error.pattern && vm.form.$submitted">Please enter valid subject</p>
            </div>
            <div class="form-group">
              <label>Message <sup class="text-danger">*</sup></label>
              <textarea class="form-control" name="template_message" ng-model="vm.template_message" ckeditor></textarea>


            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">CC</label>
              <input type="text" class="form-control" name="cc_email"   ng-model="vm.cc_email"  dn-email-custom-validation aria-describedby="emailHelp" pattern ='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$' />   
              <p class="error-msg" ng-if="vm.form.cc_email.$error.pattern && vm.form.$submitted">Please enter valid email address</p>
            </div>
            <div class="form-group">
                  <label for="exampleInputEmail1">BCC</label>         
                  <input name="bcc_email"  class="form-control" type="text" dn-email-custom-validation ng-model="vm.bcc_email" aria-describedby="emailHelp" pattern='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'/> 
                  <p class="error-msg" ng-if="vm.form.bcc_email.$error.pattern && vm.form.$submitted">Please enter valid email address</p>                  
             </div>
            <div class="form row">
              <div class="col-sm-6 form-group">
                  <label class="form-group-label">Upload Attachment</label>
                   <input type="file" class="form-control" ng-model="vm.file" ngf-select name="file" accept=".doc,.docx,.pdf,.jpeg,.jpg,.png" ngf-pattern="'.doc,.docx,.pdf,.jpeg,.jpg,.png'" ngf-max-size="5MB"  style="padding:0px;"  />
                   <div><small class="text-danger">File size limit 10KB</small><div>
                   <span ng-if="vm.file">Image thumbnail: <img style="width:100px;" ngf-thumbnail="vm.file || '/thumb.jpg'"  /></span>
                   <p class=" error-msg" ng-if="vm.form.file.$error.pattern && vm.form.file.$touched">Please upload a valid (.jpg, .png, .doc, .docx, .pdf) file only </p>
                   <p class="error-msg" ng-if="vm.form.file.$error.maxSize">Maximum file upload size : 5MB.</p>
                  </div>
             <div class="form-group col-sm-6">
                 <input type="hidden" ng-model="vm.uploaded_icon" />
                 <span ng-if="vm.uploadedfile">
                 <img ng-if="vm.uploadedfile" style="width:50px; height:50px;" ngf-thumbnail="vm.uploadedfile || '/thumb.jpg'"/><a href="void:main(0)"></a>
                </span>
                </div>
            </div>
            <div class="form-group">
              <label>Status <sup class="text-danger">*</sup></label>
              <select name="status" required ng-options="option.name for option in vm.Status track by option.id" class="form-control" ng-selected="vm.status" ng-model="vm.status">
                 <option value="" style="display: none">Please Select Status</option>
             </select>
             <p class="error-msg" ng-if="vm.form.status.$error.required && vm.form.$submitted">Please enter status</p>
            </div>
            <input type="hidden" ng-model="vm.id" />
             <div class="form-group">
               <button type="submit" class="btn btn-primary" ng-click="">Submit</button>
               <button type="button" ng-click="vm.cancel()" class="btn btn-secondary">Cancel</button>
            </div>
          </form>
        </div>
      </div>
</div>

